{% load static %}
<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <!-- META DATA -->
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="description" content="Zanex â€“ Bootstrap  Admin & Dashboard Template" />
    <meta name="author" content="Spruko Technologies Private Limited" />
    <meta
      name="keywords"
      content="admin, dashboard, dashboard ui, admin dashboard template, admin panel dashboard, admin panel html, admin panel html template, admin panel template, admin ui templates, administrative templates, best admin dashboard, best admin templates, bootstrap 4 admin template, bootstrap admin dashboard, bootstrap admin panel, html css admin templates, html5 admin template, premium bootstrap templates, responsive admin template, template admin bootstrap 4, themeforest html"
    />

    <!-- FAVICON -->
    <link rel="shortcut icon" type="image/x-icon" href="{%  static 'admin/images/brand/Ecologo500x500.png'%}" />

    <!-- TITLE -->
    <title>{% block title %} {% endblock %} | EcolotaApp</title>

    <!-- BOOTSTRAP CSS -->
    <link href="{% static 'admin/plugins/bootstrap/css/bootstrap.min.css'%}" rel="stylesheet" />

    <!-- STYLE CSS -->
    <link href="{% static 'admin/css/style.css'%}" rel="stylesheet" />
    <link href="{% static 'admin/css/dark-style.css'%}" rel="stylesheet" />
    <link href="{% static 'admin/css/skin-modes.css'%}" rel="stylesheet" />

    <!-- SIDE-MENU CSS -->
    <link href="{% static 'admin/css/sidemenu.css'%}" rel="stylesheet" id="sidemenu-theme" />

    <!--C3 CHARTS CSS -->
    <link href="{% static 'admin/plugins/charts-c3/c3-chart.css'%}" rel="stylesheet" />

    <!-- SELECT2 CSS -->
    <link href="{% static 'admin/plugins/select2/select2.min.css'%}" rel="stylesheet" />

    <!-- DATA TABLE CSS -->
    <link href="{% static 'admin/plugins/datatable/css/dataTables.bootstrap5.css'%}" rel="stylesheet" />
    <link href="{% static 'admin/plugins/datatable/css/buttons.bootstrap5.min.css'%}" rel="stylesheet" />
    <link href="{% static 'admin/plugins/datatable/responsive.bootstrap5.css'%}" rel="stylesheet" />

    <!-- INTERNAL SELECT2 CSS -->
    <link href="{% static 'admin/plugins/select2/select2.min.css'%}" rel="stylesheet" />

    <!-- P-scroll bar css-->
    <link href="{% static 'admin/plugins/p-scroll/perfect-scrollbar.css'%}" rel="stylesheet" />

    <!--- FONT-ICONS CSS -->
    <link href="{% static 'admin/css/icons.css'%}" rel="stylesheet" />

    <!-- SIDEBAR CSS -->
    <link href="{% static 'admin/plugins/sidebar/sidebar.css'%}" rel="stylesheet" />

    <!-- CKPREM CSS -->
    <link href="{% static 'admin/ckeditor5/ckeditor5/ckeditor5.css'%}" rel="stylesheet" />

    <!-- COLOR SKIN CSS -->
    <link id="theme" rel="stylesheet" type="text/css" media="all" href="{% static 'admin/colors/color1.css'%}" />
    {% block css %}{% endblock %}
  </head>

  <body class="app sidebar-mini light-mode">
    <!-- GLOBAL-LOADER -->
    <div id="global-loader">
      <img src="{%  static 'admin/images/loader.svg'%}" class="loader-img" alt="Loader" />
    </div>
    <!-- /GLOBAL-LOADER -->

    {% if messages %} {% for message in messages %}
    <div alt="{{message.tags}}" data="{{message}}" id="msg_pesan"></div>
    {% endfor %} {% endif %}
    
    <!-- PAGE -->
    <div class="page">
      <div class="page-main">
        {% include "backend/admin_layout/sidebar.html" %} {% include "backend/admin_layout/navbar.html" %}

        <!--app-content open-->
        <div class="app-content">{% block main %} {% endblock %}</div>
        <!-- CONTAINER END -->
      </div>

      <!-- FOOTER -->
      {% include "backend/admin_layout/footer.html" %}
      <!-- FOOTER END -->
    </div>

    <!-- message script -->

    <!-- BACK-TO-TOP -->
    <a href="#top" id="back-to-top"><i class="fa fa-angle-up"></i></a>

    <!-- CKeditor -->
    <link rel="stylesheet" href="https://cdn.ckeditor.com/ckeditor5/43.2.0/ckeditor5.css" />

    <script src="{% static 'admin/js/jquery.min.js'%}"></script>

    <!-- BOOTSTRAP JS -->
    <script src="{% static 'admin/plugins/bootstrap/js/popper.min.js'%}"></script>
    <script src="{% static 'admin/plugins/bootstrap/js/bootstrap.min.js'%}"></script>

    <!-- SPARKLINE JS-->
    <script src="{% static 'admin/js/jquery.sparkline.min.js'%}"></script>

    <!-- CHART-CIRCLE JS-->
    <script src="{% static 'admin/js/circle-progress.min.js'%}"></script>

    <!-- C3 CHART JS -->
    <script src="{% static 'admin/plugins/charts-c3/d3.v5.min.js'%}"></script>
    <script src="{% static 'admin/plugins/charts-c3/c3-chart.js'%}"></script>

    <!-- INPUT MASK JS-->
    <script src="{% static 'admin/plugins/input-mask/jquery.mask.min.js'%}"></script>

    <!-- SIDE-MENU JS -->
    <script src="{% static 'admin/plugins/sidemenu/sidemenu.js'%}"></script>

    <!-- INTERNAL SELECT2 JS -->
    <script src="{% static 'admin/plugins/select2/select2.full.min.js'%}"></script>

    <!-- DATA TABLE JS-->
    <script src="{% static 'admin/plugins/datatable/js/jquery.dataTables.min.js'%}"></script>
    <script src="{% static 'admin/plugins/datatable/js/dataTables.bootstrap5.js'%}"></script>
    <script src="{% static 'admin/plugins/datatable/js/dataTables.buttons.min.js'%}"></script>
    <script src="{% static 'admin/plugins/datatable/js/buttons.bootstrap5.min.js'%}"></script>
    <script src="{% static 'admin/plugins/datatable/js/jszip.min.js'%}"></script>
    <script src="{% static 'admin/plugins/datatable/pdfmake/pdfmake.min.js'%}"></script>
    <script src="{% static 'admin/plugins/datatable/pdfmake/vfs_fonts.js'%}"></script>
    <script src="{% static 'admin/plugins/datatable/js/buttons.html5.min.js'%}"></script>
    <script src="{% static 'admin/plugins/datatable/js/buttons.print.min.js'%}"></script>
    <script src="{% static 'admin/plugins/datatable/js/buttons.colVis.min.js'%}"></script>
    <script src="{% static 'admin/plugins/datatable/dataTables.responsive.min.js'%}"></script>
    <script src="{% static 'admin/plugins/datatable/responsive.bootstrap5.min.js'%}"></script>
    <script src="{% static 'admin/js/table-data.js'%}"></script>

    <!-- SIDEBAR JS -->
    <script src="{% static 'admin/plugins/sidebar/sidebar.js'%}"></script>

    <!-- Perfect SCROLLBAR JS-->
    <script src="{% static 'admin/plugins/p-scroll/perfect-scrollbar.js'%}"></script>
    <script src="{% static 'admin/plugins/p-scroll/pscroll.js'%}"></script>
    <script src="{% static 'admin/plugins/p-scroll/pscroll-1.js'%}"></script>

    <!-- CUSTOM JS-->
    <script src="{% static 'admin/js/custom.js'%}"></script>

    <!-- INDEX JS -->
    <script src="{%  static 'admin/js/index1.js'%}"></script>

    {% comment %} <script src="{% static 'admin/ckeditor5/ckeditor5/ckeditor5.js'%}"></script> {% endcomment %}

    <!-- SWITCH ALERT -->
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script type="text/javascript">
      function show_notif(meseg, jenis_icon) {
        if (jenis_icon == "error") {
          button_style = "btn-danger";
        } else {
          button_style = `btn-${jenis_icon}`;
        }

        Swal.fire({
          html: meseg,
          icon: jenis_icon,
          buttonsStyling: false,
          confirmButtonText: "OK",
          customClass: {
            confirmButton: `btn ${button_style}`,
          },
        });
      }

      if ($("#msg_pesan").length) {
        show_notif($("#msg_pesan").attr("data"), $("#msg_pesan").attr("alt"));
      }
    </script>

    <!-- base.html -->
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        // Cari semua elemen yang memiliki class 'delete-confirm'
        document.querySelectorAll(".delete-confirm").forEach(function (element) {
          element.addEventListener("click", function (e) {
            e.preventDefault(); // Cegah aksi default (navigasi langsung)

            const deleteUrl = this.getAttribute("href"); // Ambil URL dari atribut href
            const message = this.getAttribute("data-message") || "Data ini akan dihapus secara permanen!";

            Swal.fire({
              title: "Apakah Anda Yakin?",
              text: message,
              icon: "warning",
              showCancelButton: true,
              confirmButtonColor: "#3085d6",
              cancelButtonColor: "#d33",
              confirmButtonText: "Ya, Hapus!",
              cancelButtonText: "Batal",
            }).then((result) => {
              if (result.isConfirmed) {
                // Redirect ke URL penghapusan jika konfirmasi
                window.location.href = deleteUrl;
              }
            });
          });
        });
      });
    </script>
    {% block js %}{% endblock %}
  </body>
</html>
